*oil_pyright_remote.txt*   For Neovim >= 0.8.0   Last change: 2025 December 19

==============================================================================
Table of Contents                       *oil_pyright_remote-table-of-contents*

1. oil-pyright-remote.nvim        |oil_pyright_remote-oil-pyright-remote.nvim|
  - Requirements     |oil_pyright_remote-oil-pyright-remote.nvim-requirements|
  - Installation (lazy.nvim)|oil_pyright_remote-oil-pyright-remote.nvim-installation-(lazy.nvim)|
  - Backend Support|oil_pyright_remote-oil-pyright-remote.nvim-backend-support|
  - Commands             |oil_pyright_remote-oil-pyright-remote.nvim-commands|
  - Configuration (globals or environment)|oil_pyright_remote-oil-pyright-remote.nvim-configuration-(globals-or-environment)|

==============================================================================
1. oil-pyright-remote.nvim        *oil_pyright_remote-oil-pyright-remote.nvim*

Run `pyright-langserver` or `ty` over SSH and make every LSP interaction work
on files opened via `oil-ssh://…`. Tracks remote hosts/virtualenvs/workspace
roots, verifies or installs LSP backends remotely, adapts diagnostics and jumps
to oil paths, and auto-reconnects.


REQUIREMENTS         *oil_pyright_remote-oil-pyright-remote.nvim-requirements*

- Neovim 0.8+
- SSH access to the target host
- Remote Python virtualenv (pyright or ty will be installed on demand if missing)
- Optional: oil.nvim for `oil-ssh://` buffers


INSTALLATION (LAZY.NVIM)*oil_pyright_remote-oil-pyright-remote.nvim-installation-(lazy.nvim)*

>lua
    {
      "song54573/oil-pyright-remote.nvim",
      dependencies = { "stevearc/oil.nvim" }, -- required for oil-ssh:// buffers
      lazy = false, -- start as soon as Python buffers open
    }
<

The entry file `plugin/oil_pyright_remote.lua` requires `oil_pyright_remote`,
so commands/autocmds register automatically.


REMOTE PREREQUISITES ~

- SSH access to the target host (key or agent recommended).
- A Python virtualenv on the remote host; pyright or ty will be installed on demand if missing (see `g:pyright_remote_auto_install`).
- Optional: oil.nvim to open buffers as `oil-ssh://host//path`, enabling seamless path conversion for jumps and diagnostics.


BACKEND SUPPORT   *oil_pyright_remote-oil-pyright-remote.nvim-backend-support*

This plugin supports two Python LSP backends:

- **pyright** (default): The standard Python type checker from Microsoft
- **ty**: A fast Rust-based Python type checker from Astral (creators of Ruff and uv)

To switch backends, set `g:pyright_remote_backend` or use the `backend` option
in `setup()`.


COMMANDS                 *oil_pyright_remote-oil-pyright-remote.nvim-commands*

- `:PyrightRemoteHost [host]` — set/show remote host (completes from `~/.ssh/config`).
- `:PyrightRemoteEnv [env_dir]` — set/show remote virtualenv root; remembers history and lets you pick interactively.
- `:PyrightRemoteRoot [path]` — pin workspace root (remote path). Default: directory of current file.
- `:PyrightRemoteRestart` — restart the oil_pyright_remote client for the current buffer.
- `:PyrightRemoteEnvForget [env_dir]` — forget one or all remembered environments.

Pyright is started automatically on `FileType python`. If startup fails,
prompts will guide you to re-enter host/env/python paths.


CONFIGURATION (GLOBALS OR ENVIRONMENT)*oil_pyright_remote-oil-pyright-remote.nvim-configuration-(globals-or-environment)*

  ---------------------------------------------------------------------------------
  Variable                          Purpose                 Default
  --------------------------------- ----------------------- -----------------------
  g:pyright_remote_host /           SSH host                none
  PYRIGHT_REMOTE_HOST                                       

  g:pyright_remote_env /            Remote virtualenv root  none
  PYRIGHT_REMOTE_ENV                                        

  g:pyright_remote_workspace_root / Fixed workspace root    auto-detected
  PYRIGHT_REMOTE_ROOT                                       

  g:pyright_remote_backend          LSP backend: "pyright"  "pyright"
                                    or "ty"                 

  g:pyright_remote_auto_install     Install LSP backend if  false
                                    missing                 

  g:pyright_remote_start_notify     Notify on               false
                                    start/reconnect         

  g:pyright_remote_auto_prompt      Auto-prompt for         true
                                    environment path        
  ---------------------------------------------------------------------------------

EXAMPLE: USING TY BACKEND ~

>lua
    require("oil_pyright_remote").setup({
      backend = "ty",
      auto_install = true,
    })
<

Or via global variable:

>vim
    let g:pyright_remote_backend = 'ty'
<

Generated by panvimdoc <https://github.com/kdheepak/panvimdoc>

vim:tw=78:ts=8:noet:ft=help:norl:
